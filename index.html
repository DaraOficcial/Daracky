<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Portal Tongkrongan</title>
<style>
body{font-family:sans-serif;display:flex;align-items:center;justify-content:center;height:100vh;margin:0;background:#0f172a;color:#fff}
.card{background:rgba(255,255,255,0.06);padding:25px;border-radius:10px;width:330px;text-align:center}
input,textarea,button{width:100%;padding:10px;margin-top:10px;border:none;border-radius:6px}
button{background:#06b6d4;color:#062024;font-weight:bold;cursor:pointer}
</style>
</head>
<body>
  <div class="card">
    <h2>Selamat datang!</h2>
    <p>Isi nama dan kata-kata keren dulu ya!</p>
    <input id="nama" placeholder="Nama kamu...">
    <textarea id="kata" rows="3" placeholder="Tulis kata-kata keren..."></textarea>
    <button id="kirim">Submit</button>
    <p id="status"></p>
  </div>

<script>
document.getElementById('kirim').onclick = async () => {
  const nama = document.getElementById('nama').value.trim();
  const kata = document.getElementById('kata').value.trim();
  if(!nama || !kata){
    alert("Isi dulu semuanya!");
    return;
  }

  const res = await fetch('api/save_user.php', {
    method: 'POST',
    headers: {'Content-Type':'application/x-www-form-urlencoded'},
    body: `nama=${encodeURIComponent(nama)}&kata=${encodeURIComponent(kata)}`
  });
  const data = await res.json();
  if(data.success){
    alert("Kata-kata kamu dikirim, lagi dicek sama admin! Tunggu ya!");
    document.getElementById('status').textContent = "Menunggu izin admin...";
  } else {
    alert("Gagal: " + data.message);
  }
};
</script>
</body>
</html>
